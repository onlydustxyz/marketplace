fragment ProjectContributorsForPaymentSelect on Projects {
  id
  githubRepos {
    githubRepoDetails {
      id
      pullRequests(state: CLOSED) {
        ...PullDetails
      }
      content {
        id
        contributors {
          ...GithubContributor
        }
      }
    }
  }
  budgets {
    paymentRequests {
      id
      workItems {
        repoId
        issueNumber
      }
      githubRecipient {
        ...GithubContributor
      }
    }
  }
}

query SearchGithubUsersByHandleSubstring($handleSubstringQuery: String!) {
  searchUsers(query: $handleSubstringQuery, sort: "followers", order: "desc") {
    id
    login
    avatarUrl
    user {
      userId
    }
  }
}

query GetProjectContributorsForPaymentSelect($projectId: uuid!) {
  projectsByPk(id: $projectId) {
    ...ProjectContributorsForPaymentSelect
  }
}
