fragment Contributor on UserProfiles {
  ...MinimalUserProfile
  contributionStatsAggregate(where: { projectId: { _eq: $projectId } }) {
    aggregate {
      sum {
        codeReviewCount
        issueCount
        pullRequestCount
        totalCount
      }
    }
  }
  paymentStatsAggregate(where: { projectId: { _eq: $projectId } }) {
    aggregate {
      sum {
        moneyGranted
      }
    }
  }
  projectsRewardedAggregate(where: { projectId: { _eq: $projectId } }) {
    aggregate {
      sum {
        rewardCount
      }
    }
  }
}

query GetProjectContributors($projectId: uuid!) {
  projectsContributors(where: { projectId: { _eq: $projectId } }) {
    user {
      ...Contributor
    }
  }
}
