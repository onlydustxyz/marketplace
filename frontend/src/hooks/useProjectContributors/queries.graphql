fragment Contributor on UserProfiles {
  ...MinimalUserProfile
  contributionStatsAggregate(where: { projectId: { _eq: $projectId } }) {
    aggregate {
      sum {
        paidCount
        unpaidCount
      }
    }
  }
  paymentStatsAggregate(where: { projectId: { _eq: $projectId } }) {
    aggregate {
      sum {
        moneyGranted
      }
    }
  }
}

query GetProjectContributors($projectId: uuid!) {
  projectsContributorsView(where: { projectId: { _eq: $projectId } }) {
    user {
      ...Contributor
    }
  }
}
