fragment ProjectContributors on Projects {
  id
  githubRepos {
    projectId
    githubRepoId
    repoContributors {
      user {
        ...GithubUser
      }
    }
  }
  budgets {
    id
    paymentRequests {
      ...PaymentRequestId
      githubRecipient {
        ...GithubUser
      }
    }
  }
}

fragment LastProjectMergedPullRequests on Projects {
  githubRepos {
    projectId
    githubRepoId
    repoIssues(where: { createdAt: { _gte: $createdSince }, type: { _eq: "PullRequest" }, status: { _eq: "Merged" } }) {
      ...GithubIssue
    }
  }
}

fragment LastProjectMergedPullRequests on Projects {
  githubRepos {
    projectId
    githubRepoId
    repoIssues(where: { createdAt: { _gte: $createdSince }, type: { _eq: "PullRequest" }, status: { _eq: "Merged" } }) {
      ...GithubIssue
    }
  }
}

fragment ProjectPaidWorkItems on Projects {
  budgets {
    id
    paymentRequests {
      ...PaymentRequestId
      workItems {
        ...WorkItemId
      }
    }
  }
}

fragment ProjectContributorsWithPaymentSummary on Projects {
  ...ProjectContributors
  githubRepos {
    projectId
    githubRepoId
    repoContributors {
      user {
        ...GithubUserWithPaymentRequestsForProject
      }
    }
  }
  budgets {
    id
    paymentRequests {
      ...PaymentRequestId
      githubRecipient {
        ...GithubUserWithPaymentRequestsForProject
      }
    }
  }
}
