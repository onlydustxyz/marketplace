- name: Backend
  definition:
    url_from_env: BACKEND_GRAPHQL_URL
    timeout_seconds: 60
    customization: {}
    headers:
      - name: api-key
        value_from_env: BACKEND_GRAPHQL_API_KEY
  comment: ""
  permissions:
    - role: user
      definition:
        schema: |
          schema {
            query: Query
            mutation: Mutation
          }
          scalar Uuid
          type Mutation {
            createProject(name: String!, initialBudgetInUsd: Int!, githubRepoId: Int!, description: String, telegramLink: String, userId: Uuid!): Uuid!
            requestPayment(budgetId: Uuid!, requestorId: Uuid!, recipientId: Uuid!, amountInUsd: Int!, reason: String!): Uuid!
            updateProject(id: Uuid!, githubRepoId: Int!, description: String, telegramLink: String): Uuid!
          }
          type Query {
            hello: String!
          }
    - role: public
      definition:
        schema: |
          schema {
            query: Query
          }
          type Query {
            hello: String!
          }
- name: Github Proxy
  definition:
    url_from_env: GITHUB_PROXY_GRAPHQL_URL
    timeout_seconds: 60
    customization: {}
  permissions:
    - role: public
      definition:
        schema: |
          schema {
            query: Query
          }
          type Query {
            helloFromGithubProxy: String!
          }
