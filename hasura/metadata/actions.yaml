actions:
  - name: createProject
    definition:
      kind: synchronous
      handler: '{{BACKEND_REST_API_URL}}'
      request_transform:
        body:
          action: transform
          template: "{\n      \"name\": {{$body.input.request.projectName}},\n      \"short_description\": {{$body.input.request.shortDescription}},\n      \"long_description\": {{$body.input.request.longDescription}},\n      \"initial_budget\": {{$body.input.request?.initialBudget}},\n      \"hiring\": {{$body.input.request?.hiring}},\n      \"rank\": {{$body.input.request?.rank}},\n      \"telegram_link\": {{$body.input.request?.telegramLink}},\n      \"logo_url\": {{$body.input.request?.logoUrl}},\n      \"visibility\": {{$body.input.request?.visibility}}\n    }\n    "
        method: POST
        query_params: {}
        template_engine: Kriti
        url: '{{$base_url}}/projects'
        version: 2
    comment: createProject
  - name: suggestTechnology
    definition:
      kind: synchronous
      handler: '{{HASURA_SUGGESTION_WEBHOOK}}'
      request_transform:
        body:
          action: transform
          template: |-
            {
              "suggestion": {{$body.input.suggestion}}
            }
        template_engine: Kriti
        version: 2
      response_transform:
        body:
          action: transform
          template: "true"
        template_engine: Kriti
        version: 2
    permissions:
      - role: registered_user_specific
    comment: Suggest a new technology
custom_types:
  enums:
    - name: Visibility
      values:
        - description: null
          is_deprecated: null
          value: PRIVATE
        - description: null
          is_deprecated: null
          value: PUBLIC
  input_objects:
    - name: CreateProjectRequest
  objects:
    - name: CreateProjectResponse
  scalars: []
